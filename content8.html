<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<title>8. PONT ‚Äì V√°r ahonnan minden torony l√°tszik</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    font-family: 'Georgia', serif;
    background: url('√≥v√°rh√°tt√©r.jpg') center/cover no-repeat fixed;
    color: #f5f5f5;
    padding: 40px;
    margin: 0;
}

.container {
    max-width: 720px;
    margin: auto;
    background: rgba(0,0,0,0.60);
    padding: 32px 26px;
    border-radius: 14px;
    box-shadow: 0 0 24px rgba(0,0,0,0.7);
}

h1 {
    font-size: 32px;
    margin-bottom: 12px;
    text-align: center;
    color: #ffe7a3;
}

p {
    line-height: 1.6;
    font-size: 18px;
    margin-bottom: 16px;
}

.highlight {
    color: #ffe7a3;
    font-weight: bold;
}

h2 {
    text-align: center;
    color: #ffe7a3;
    margin-top: 28px;
    margin-bottom: 12px;
}

img.full {
    width: 100%;
    border-radius: 10px;
    margin: 16px 0;
    box-shadow: 0 0 14px rgba(0,0,0,0.6);
}

/* T√°vols√°gm√©r≈ë */
.distance-box {
    margin: 0 0 26px 0;
    padding: 12px 16px;
    border-radius: 10px;
    background: rgba(255,255,255,0.10);
    text-align: center;
}

.distance-box button {
    font-family: inherit;
    font-size: 16px;
    padding: 8px 14px;
    border-radius: 7px;
    border: none;
    cursor: pointer;
    background: #ffe7a3;
    color: #2b1b0c;
    margin-bottom: 6px;
    box-shadow: 0 0 8px rgba(0,0,0,0.5);
}

.distance-status {
    display: block;
    margin-top: 6px;
    font-size: 15px;
}

/* Navig√°ci√≥ ‚Äì k√©k */
.nav-wrapper {
    text-align: center;
    margin-top: 24px;
}

.navbtn {
    display:inline-block;
    padding:10px 16px;
    background:#68c7ff;
    color:#033048;
    font-weight:bold;
    font-size:15px;
    border-radius:7px;
    text-decoration:none;
    box-shadow:0 0 8px rgba(0,0,0,0.4);
}

/* Vissza gomb */
.home-btn {
    display:inline-block;
    margin-top: 16px;
    padding:10px 18px;
    background:#ffe7a3;
    color:#333;
    font-weight:bold;
    border-radius:8px;
    text-decoration:none;
    font-size:16px;
    box-shadow:0 0 10px rgba(0,0,0,0.5);
}

/* Mobil */
@media (max-width: 480px) {
    body { padding: 20px 12px; }
    .container { padding: 26px 18px; }
    h1 { font-size: 26px; }
    p { font-size: 17px; }
}
</style>
</head>

<body>
<div class="container">

<h1>8. PONT ‚Äì V√°r ahonnan minden torony l√°tszik</h1>

<div class="distance-box">
    <button id="distBtn">T√°vols√°g m√©r√©se (GPS)</button>
    <span id="distText" class="distance-status">
        Enged√©lyezd a helymeghat√°roz√°st, hogy megtudd milyen messze vagytok a v√°r kapuj√°t√≥l.
    </span>
</div>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<!--                T√ñRT√âNETI LE√çR√ÅS               -->
<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->

<h2>Az √ìv√°r, a v√°ros ≈ësi ≈ërtornya</h2>

<p>Az √ìv√°r Selmecb√°nya egyik legkor√°bbi er≈ëd√≠tm√©nye, egy ≈ërtoronyb√≥l tov√°bbfejlesztett kis v√°r, 
amely √©vsz√°zadokon √°t vigy√°zta a v√∂lgyeket, a b√°ny√°szfalvakat √©s a v√°rosba vezet≈ë utakat. 
Eredetileg jelz≈ëtoronynak √©p√ºlt: innen adt√°k le a t≈±zjelz√©st, a rabl√≥t√°mad√°sok h√≠r√©t, 
vagy a gyorsan terjed≈ë b√°nyaoml√°sok figyelmeztet√©s√©t.</p>

<img src="ovar4.jpg" class="full">

<p>A t√∂r√∂k id≈ëkben meger≈ës√≠tett√©k, √©s falai m√∂g√∂tt kisebb hely≈ërs√©g √°llom√°sozott.  
A magaslat √©s a kil√°t√°s miatt nemcsak katonai pont volt:  
a b√°nyatisztek is innen k√©mlelt√©k a v√∂lgyben h√∫z√≥d√≥ akn√°k szell≈ëz≈ëny√≠l√°sait.  
Ha valahol t√∫l sok g≈ëz vagy por sz√°llt fel, az rossz el≈ëjel volt:  
messzir≈ël is l√°tszott, hogy baj van a f√∂ld alatt.</p>

<img src="ovar2.jpg" class="full">

<p>A v√°r udvar√°n ma is √©rezni azt a k√ºl√∂n√∂s csendet, amelyet a hegyek adnak.  
A k√∂vek k√∂z√∂tt mintha ott maradt volna a r√©gi b√°nyav√°ros l√©pteinek visszhangja.</p>

<img src="ovar.jpg" class="full">

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<!--                A REJTV√âNY R√âSZE               -->
<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->

<h2>A magaslat titkos √ºzenete</h2>

<p>A kapunak h√°tat ford√≠tva, a t√©r fel√© n√©zve menjetek az els≈ë kandell√°berig.  
Innen t√°rul fel a v√°ros jellegzetes tornyokkal tagolt l√°tk√©pe.  
A feladatotok az, hogy figyelmesen n√©zzetek k√∂r√ºl, √©s a l√°tv√°ny alapj√°n 
alkossatok meg magatoknak egy bet≈±sort.  
A bet≈±k forr√°s√°t nem √°ruljuk el ‚Äì azt nektek kell felismerni.</p>

<p class="highlight" style="text-align:center;">
Ez az √∂t bet≈± lesz a rejtv√©ny alapja.  
≈êrizz√©tek meg, mert a k√∂vetkez≈ë l√©p√©sben kell haszn√°lni!
</p>

<h2>A feladv√°ny</h2>

<p>Amint megvan az √∂t bet≈±t√∂k, helyettes√≠ts√©tek be ≈ëket a lenti 
rejtv√©nyk√°rty√°ba. Ha j√≥l dolgoztatok, egy √©rtelmes magyar sz√≥ jelenik meg ‚Äì  
egy olyan sz√≥, amely egy ≈ësi magyar kutyafajt√°ra utal.</p>

<img src="kuvaszok.jpg" class="full">

<p>A k√∂rny√©k hegyi legel≈ëin r√©gen p√°sztorok j√°rtak, √©s mellett√ºk mindig ott voltak 
a feh√©r ≈ërz≈ëk, akik a farkast√≥l, medv√©t≈ël, tolvajt√≥l egyar√°nt megv√©dt√©k a ny√°jat.  
B√°tors√°gukr√≥l √©s h≈±s√©g√ºkr≈ël eg√©sz legend√°k sz√ºlettek a Felvid√©ken.</p>

<p class="highlight" style="text-align:center;">
Aki megfejti a rejtv√©nyt, megkapja a k√∂vetkez≈ë √°llom√°s,  
a ‚ÄûLuther r√≥zs√°ja‚Äù titkos kulcs√°t.
</p>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<!--                GOMBOK                         -->
<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->

<div class="nav-wrapper">
    <a href="https://maps.app.goo.gl/PnuYSpeaQuLy6DPv7" 
       target="_blank" class="navbtn">
        üìç Navig√°ci√≥ az √ìv√°rhoz
    </a>
    <br>
    <a href="index.html" class="home-btn">‚¨Ö Vissza a f≈ëoldalra</a>
</div>

</div>

<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
<!--                GPS SCRIPT                     -->
<!-- ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->

<script>
const targetLat = 48.459336407159405;
const targetLon = 18.891808326726757;

const distBtn  = document.getElementById("distBtn");
const distText = document.getElementById("distText");

// Haversine
function distanceMeters(lat1, lon1, lat2, lon2) {
    const R = 6371000;
    const toRad = x => x * Math.PI / 180;
    const dLat = toRad(lat2 - lat1);
    const dLon = toRad(lon2 - lon1);
    const a =
        Math.sin(dLat/2)**2 +
        Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *
        Math.sin(dLon/2)**2;
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    return R * c;
}

function formatDistance(m) {
    if (m < 5) return "M√°r szinte a v√°r kapuj√°n√°l vagytok!";
    if (m < 1000) return m.toFixed(0) + " m√©ter";
    return (m/1000).toFixed(2) + " km";
}

distBtn.addEventListener("click", function () {
    if (!("geolocation" in navigator)) {
        distText.textContent = "A b√∂ng√©sz≈ë nem t√°mogatja a GPS-t.";
        return;
    }

    distText.textContent = "Helyzet lek√©r√©se...";

    navigator.geolocation.getCurrentPosition(function (pos) {
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;
        const dist = distanceMeters(lat, lon, targetLat, targetLon);
        distText.textContent =
            "Jelenlegi t√°vols√°g a v√°r kapuj√°t√≥l: " + formatDistance(dist);
    }, function () {
        distText.textContent =
            "Nem siker√ºlt lek√©rni a poz√≠ci√≥t. Ellen≈ërizd a GPS-t!";
    }, {
        enableHighAccuracy: true,
        maximumAge: 5000,
        timeout: 10000
    });
});
</script>

</body>
</html>
